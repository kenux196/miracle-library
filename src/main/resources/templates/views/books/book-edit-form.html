<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<div layout:fragment="content">
  <div class="container">
    <div class="py-5 text-center">
      <h2>도석 수정 폼</h2>
    </div>
    <h4 class="mb-3">책 정보 수정</h4>
    <form action="books.html" th:action method="post" id="bookEditForm">
      <div>
        <label for="title">책 제목</label>
        <input type="text" id="title" name="title" class="form-control" th:value="${book.title}"/>
      </div>
      <div>
        <label for="author">작가</label>
        <input type="text" id="author" name="author" class="form-control" th:value="${book.author}"/>
      </div>
      <div>
        <label for="isbn">ISBN</label>
        <input type="text" id="isbn" name="isbn" class="form-control" th:value="${book.isbn}"/>
      </div>
      <div>
        <label for="publishDate">출간일</label>
        <input type="date" id="publishDate" name="publishDate" class="form-control" th:value="${book.publicationDate}"/>
      </div>
      <div>
<!--        todo:  카테고리는 전달받은 데이터를 기준으로 생성하도록 수정-->
        <label for="categorySelect">카테고리</label>
        <select class="form-select" id="categorySelect" name="category" form="bookEditForm">
<!--          <option selected>카테고리를 선택하세요</option>-->
          <option value="ESSAY" th:selected="${book.category}">에세이</option>
          <option value="IT" th:selected="${book.category}">IT</option>
          <option value="FICTION" th:selected="${book.category}">소설</option>
          <option value="ECONOMY" th:selected="${book.category}">경제</option>
        </select>
      </div>
      <hr class="my-4">
      <div class="row">
        <div class="col">
          <button type="submit" class="w-100 btn btn-primary btn-lg">등록하기</button>
        </div>
        <div class="col">
          <button type="button" class="w-100 btn btn-secondary btn-lg"
                  th:onclick="|location.href='@{/books/{bookId}(bookId=${book.id})}'|"
                  onclick="location.href='books.html'">취소</button>
        </div>
      </div>
    </form>
  </div>
</div>
</html>